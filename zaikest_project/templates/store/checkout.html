{% extends 'base.html' %}

{% block content %}
<div class="py-12 min-h-screen">
    <div class="max-w-2xl mx-auto px-4">
        <h1 class="text-3xl font-serif font-bold mb-8 text-center text-brand-gold">Checkout</h1>

        <div class="bg-brand-maroon border border-brand-gold/20 rounded-xl shadow-2xl overflow-hidden">
            <div class="p-6 md:p-10">
                <h2 class="text-xl font-semibold mb-6 border-b border-brand-gold/20 pb-4 text-white flex items-center">
                    <svg class="w-6 h-6 mr-2 text-brand-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                        </path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Delivery Details (COD)
                </h2>

                <form action="." method="post" class="space-y-6">
                    {% csrf_token %}

                    <div>
                        <label for="customer_name" class="block mb-2 text-sm font-medium text-brand-gold">Full
                            Name</label>
                        <input type="text" name="customer_name" id="customer_name" required
                            class="bg-brand-dark border border-brand-gold/30 text-white text-sm rounded-lg focus:ring-brand-gold focus:border-brand-gold block w-full p-3 placeholder-gray-500">
                    </div>

                    <div>
                        <label for="phone_number" class="block mb-2 text-sm font-medium text-brand-gold">Phone Number
                            (WhatsApp)</label>
                        <input type="tel" name="phone_number" id="phone_number" required placeholder="03XXXXXXXXX"
                            class="bg-brand-dark border border-brand-gold/30 text-white text-sm rounded-lg focus:ring-brand-gold focus:border-brand-gold block w-full p-3 placeholder-gray-500">
                    </div>

                    <div>
                        <label for="city" class="block mb-2 text-sm font-medium text-brand-gold">City</label>
                        <select name="city" id="city" required
                            class="bg-brand-dark border border-brand-gold/30 text-white text-sm rounded-lg focus:ring-brand-gold focus:border-brand-gold block w-full p-3">
                            <option value="" class="text-gray-500">Select City</option>
                            <option value="Karachi">Karachi</option>
                            <option value="Lahore">Lahore</option>
                            <option value="Islamabad">Islamabad</option>
                            <option value="Rawalpindi">Rawalpindi</option>
                        </select>
                    </div>

                    <div>
                        <label for="delivery_address" class="block mb-2 text-sm font-medium text-brand-gold">Complete
                            Address</label>
                        <textarea name="delivery_address" id="delivery_address" rows="3" required
                            class="bg-brand-dark border border-brand-gold/30 text-white text-sm rounded-lg focus:ring-brand-gold focus:border-brand-gold block w-full p-3 placeholder-gray-500"></textarea>
                    </div>

                    <div>
                        <label for="order_notes" class="block mb-2 text-sm font-medium text-brand-gold">Order Notes
                            (Optional)</label>
                        <textarea name="order_notes" id="order_notes" rows="2" placeholder="e.g. Deliver after 6 PM"
                            class="bg-brand-dark border border-brand-gold/30 text-white text-sm rounded-lg focus:ring-brand-gold focus:border-brand-gold block w-full p-3 placeholder-gray-500"></textarea>
                    </div>

                    <div class="bg-brand-dark/50 p-6 rounded-lg border border-brand-gold/10 mt-8">
                        <h3 class="font-bold text-gray-300 mb-4 uppercase text-xs tracking-widest">Your Order</h3>
                        <div class="flex justify-between text-sm mb-2 text-gray-400">
                            <span>Subtotal</span>
                            <span>Rs. {{ cart.get_total_price|floatformat:0 }}</span>
                        </div>
                        <div
                            class="flex justify-between font-bold text-xl border-t border-brand-gold/20 pt-4 mt-2 text-brand-gold">
                            <span>Total Amount (COD)</span>
                            <span>Rs. {{ cart.get_total_price_after_discount|floatformat:0 }}</span>
                        </div>
                    </div>

                    <button type="submit"
                        class="w-full text-brand-maroon bg-brand-gold hover:bg-white hover:text-brand-maroon focus:ring-4 focus:outline-none focus:ring-brand-gold/50 font-bold rounded-lg text-lg px-5 py-4 text-center transition-all shadow-lg mt-8">
                        Confirm Order
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}